const body=document.querySelector("body"),navCatItems=document.querySelectorAll(".nav-categories__item"),navRubrMenu=document.querySelector(".nav-rubrics");for(let e=0;e<navCatItems.length;e++){const n=navCatItems[e];n.addEventListener("click",()=>{navCatMenu.checkClasses(n),navCatMenu.activeItem(n)})}const navOpener=document.querySelector(".wrapper__nav-opener"),navContainer=document.querySelector(".wrapper__nav-container");navOpener.addEventListener("click",()=>{navContainer.classList.contains("open")?(navCatMenu.closeMenu(navContainer),navCatMenu.closeMenu(navOpener)):(navCatMenu.activeMenu(navContainer),navCatMenu.activeMenu(navOpener))});const navCatMenu={checkClasses(e){for(let n=0;n<navCatItems.length;n++){if(navCatItems[n]===e){if(e.classList.contains("active")&&!navRubrMenu.classList.contains("open")){this.activeMenu(navRubrMenu);continue}if(e.classList.contains("active")&&navRubrMenu.classList.contains("open")){this.closeMenu(navRubrMenu);continue}}const t=navCatItems[n];if(t.classList.contains("active"))return t.classList.remove("active")}},activeItem(e){e.classList.contains("active")||(e.classList.add("active"),this.activeMenu(navRubrMenu))},activeMenu(e){e.classList.add("open")},closeMenu(e){e.classList.remove("open")}};window.addEventListener("orientationchange",()=>{navContainer.classList.contains("open")&&(navCatMenu.closeMenu(navContainer),navCatMenu.closeMenu(navOpener),window.innerHeight,window.innerWidth)});const navRubrMenuSelect=document.querySelector(".nav-rubrics__header"),navRubrMenuSelectItems=document.querySelector(".nav-rubrics__list"),navRubrMenuSelectItemsHEIGHT=navRubrMenuSelectItems.offsetHeight,navRubrMenuSelectImage=document.querySelector(".nav-rubrics__select-image");navRubrMenuSelect.addEventListener("click",()=>{navRubrMenuSelectImage.classList.contains("active")?navRubrMethods.removeClass():navRubrMenuSelectImage.classList.contains("active")||navRubrMethods.addClass()});const navRubrMethods={addClass(){navRubrMenuSelectImage.classList.add("active"),navRubrMenuSelectItems.classList.add("active"),this.removeMargin()},addMargin(){navRubrMenuSelectItems.style.margin=`0px 0px ${20-navRubrMenuSelectItemsHEIGHT}px 0px`},removeClass(){navRubrMenuSelectImage.classList.remove("active"),navRubrMenuSelectItems.classList.remove("active"),this.addMargin()},removeMargin(){navRubrMenuSelectItems.style.margin="0px 0px 30px 0px"}};navRubrMethods.addMargin();const menus=document.querySelectorAll(".menu");for(let e=0;e<menus.length;e++){const n=menus[e];n.addEventListener("click",e=>{if(e.target.closest(".menu")||e.target.classList.contains("menu")){const t=headerMenusMethods.activeMenusCounter(),s=n.querySelector(".menu-list"),a=n.querySelector(".triangle");if(e.target.classList.contains("closer")||e.target.classList.contains("menu-list__closer"))return void headerMenusMethods.closeMenu(a,s);s.classList.contains("active")?2===t&&"26"===s.style.zIndex?headerMenusMethods.zindexRaise(s):headerMenusMethods.closeMenu(a,s):1===t?(headerMenusMethods.zindexRaise(s),headerMenusMethods.openMenu(a,s)):headerMenusMethods.openMenu(a,s)}})}const headerMenusMethods={openMenu(e,n){window.matchMedia("(min-width: 450px)").matches?(n.classList.add("active"),this.styleEditor(!0,e)):n.classList.add("active")},closeMenu(e,n){window.matchMedia("(min-width: 450px)").matches,n.classList.remove("active"),this.styleEditor(!1,e)},styleEditor(e,n){!0===e?(n.style.transition="all 1.5s ease 0s",n.style.opacity="1",n.style.visibility="visible"):(n.style.transition="all 0.4s ease 0s",n.style.opacity="0",n.style.visibility="hidden")},activeMenusCounter(){let e=0;for(let n=0;n<menus.length;n++){menus[n].querySelector(".menu-list").classList.contains("active")&&e++}return e},zindexRaise(e){for(let n=0;n<menus.length;n++){const t=menus[n].querySelector(".menu-list");t.style.zIndex=t===e?"27":"26"}},closeAllMenus(){for(let e=0;e<menus.length;e++){const n=menus[e].querySelector(".menu-list"),t=menus[e].querySelector(".triangle");n.classList.remove("active"),this.styleEditor(!1,t)}}},person=document.querySelectorAll("#person"),personInfoMenu=document.querySelector(".person-info"),contentInner=document.querySelector(".content__inner"),closeUserInfoButton=document.querySelector(".person-info__close-button"),personInfoBackground=document.querySelector(".person-info__background");for(let e=0;e<person.length;e++){person[e].addEventListener("click",()=>{personInfoMethods.open(personInfoMenu,contentInner)})}closeUserInfoButton.addEventListener("click",()=>{personInfoMethods.close(personInfoMenu,contentInner)}),personInfoBackground.addEventListener("click",()=>{personInfoMethods.close(personInfoMenu,contentInner)});const personInfoMethods={open(e,n){e.classList.add("open"),window.matchMedia("(min-width: 830px)").matches?n.classList.add("person"):window.matchMedia("(max-width: 526px)").matches&&personInfoBackground.classList.add("open")},close(e,n){e.classList.remove("open"),n.classList.remove("person"),personInfoBackground.classList.remove("open")},backgroundListening(){}},chatInner=document.querySelector(".content__chat-inner"),chat=document.querySelector(".content__chat");chatInner.style.minHeight=chat.offsetHeight+"px";const menuItems=document.querySelectorAll(".header__menu-item"),menuSearch=document.querySelector(".header__search");for(let e=0;e<menuItems.length;e++){const n=menuItems[e];n.addEventListener("click",()=>{window.matchMedia("(max-width: 590px)").matches&&"Search"===n.querySelector("p").textContent&&(headerMenusMethods.closeAllMenus(),menuItemsMethods.openSearch(menuSearch),menuItemsMethods.listening(),navContainer.classList.contains("open")&&(navCatMenu.closeMenu(navContainer),navCatMenu.closeMenu(navOpener)))})}const menuItemsMethods={openSearch(e){e.classList.add("open")},closeSearch(e){e.classList.remove("open")},listening(){function e(n){n.target.closest(".header__search")||(menuItemsMethods.closeSearch(menuSearch),body.removeEventListener("click",e,!1))}setTimeout(()=>{body.addEventListener("click",e,!1)},1e3)}},chatImages=document.querySelectorAll(".message__message-pic"),imageWindow=document.querySelector(".single-photo"),imageWindowClosers=document.querySelectorAll(".single-photo-closer"),imageWindowBackground=document.querySelector(".single-photo__background");for(let e=0;e<chatImages.length;e++){chatImages[e].querySelector("img").addEventListener("click",()=>{chatImagesMethods.openImage(imageWindow,imageWindowBackground)})}imageWindowClosers.forEach(e=>{e.addEventListener("click",()=>{chatImagesMethods.closeImage(imageWindow,imageWindowBackground)})});const chatImagesMethods={openImage(e,n){e.classList.add("open"),n.classList.add("open")},closeImage(e,n){e.classList.remove("open"),n.classList.remove("open")}};!function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);